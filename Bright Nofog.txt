local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local FogEffectEnabled = false
local OriginalFogEnd = Lighting.FogEnd
local OriginalFogStart = Lighting.FogStart
local OriginalFogColor = Lighting.FogColor
local OriginalAtmosphereDensity = Lighting.Atmosphere.Density
local OriginalAtmosphereGlare = Lighting.Atmosphere.Glare
local OriginalAtmosphereHaze = Lighting.Atmosphere.Haze

local BrightEnabled = false
local OriginalBrightness = Lighting.Brightness
local OriginalAmbient = Lighting.Ambient
local OriginalOutdoorAmbient = Lighting.OutdoorAmbient

local GlobalLight = Instance.new("PointLight")
GlobalLight.Brightness = 5
GlobalLight.Range = 1000
GlobalLight.Shadows = false
GlobalLight.Parent = workspace
GlobalLight.Enabled = false

local function DisableFogAndAtmosphere()
    FogEffectEnabled = true
    Lighting.FogEnd = 1000000 
    Lighting.FogStart = 0
    Lighting.FogColor = Color3.new(1, 1, 1) 
    
    Lighting.Atmosphere.Density = 0
    Lighting.Atmosphere.Glare = 0
    Lighting.Atmosphere.Haze = 0
end

local function EnableFogAndAtmosphere()
    FogEffectEnabled = false
    Lighting.FogEnd = OriginalFogEnd
    Lighting.FogStart = OriginalFogStart
    Lighting.FogColor = OriginalFogColor
    
    Lighting.Atmosphere.Density = OriginalAtmosphereDensity
    Lighting.Atmosphere.Glare = OriginalAtmosphereGlare
    Lighting.Atmosphere.Haze = OriginalAtmosphereHaze
end

local function EnableBright()
    BrightEnabled = true
    Lighting.Brightness = 30 
    Lighting.Ambient = Color3.new(0.8, 0.8, 0.8) 
    Lighting.OutdoorAmbient = Color3.new(0.8, 0.8, 0.8)  
    GlobalLight.Enabled = true  
end

local function DisableBright()
    BrightEnabled = false
    Lighting.Brightness = OriginalBrightness
    Lighting.Ambient = OriginalAmbient
    Lighting.OutdoorAmbient = OriginalOutdoorAmbient
    GlobalLight.Enabled = false 
end

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.F5 and not gameProcessed then
        if FogEffectEnabled then
            EnableFogAndAtmosphere()
            print("Fog and Atmosphere Enabled")
        else
            DisableFogAndAtmosphere()
            print("Fog and Atmosphere Disabled")
        end
    end
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.F4 and not gameProcessed then
        if BrightEnabled then
            DisableBright()
            print("Bright Effect Disabled")
        else
            EnableBright()
            print("Bright Effect Enabled")
        end
    end
end)

print("Combined Script Loaded! Press F4 to toggle brightness, F5 to toggle fog and atmosphere.")